<html>
  <header>
    <title>10 Fastinger</title>
    <meta charset="utf-8"></meta>
    <link rel="stylesheet" href="style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.0/css/bulma.min.css">
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  </header>
  <body>
    <div id="app">
      <navbar></navbar>
      <div class="tile is-ancestor container-ancestor">
        
       
        <div class="tile is-8 is-parent">
          <div class="logic-form">
            <!-- typingpanel -->
            <typing-panel :time-counter-max="60" @on-finish="onFinishTyping"></typing-panel>
            <!-- end typingpanel -->

            <!-- result -->
            <result-panel v-if="isShowResult" :result-data="resultData"></result-panel>
            <!-- end result -->
            
          </div>
        </div>
       
        <div class="tile is-4 is-vertical is-parent rank-fix">
          <!-- ranking -->
          <ranking-panel></ranking-panel>
          <!-- end ranking -->
        </div>
      </div>
    </div>
  <!-- The core Firebase JS SDK is always required and must be listed first -->
  <script src="https://www.gstatic.com/firebasejs/7.8.2/firebase-app.js"></script>
  
  <!-- TODO: Add SDKs for Firebase products that you want to use
       https://firebase.google.com/docs/web/setup#available-libraries -->
  <script src="https://www.gstatic.com/firebasejs/7.8.2/firebase-analytics.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.8.2/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.8.2/firebase-database.js"></script>
  <script>
    // Your web app's Firebase configuration
    var firebaseConfig = {
      apiKey: "AIzaSyC1sdeokehKf3rVnW6fsdjbx3jU2qpOWEQ",
      authDomain: "typing-faster.firebaseapp.com",
      databaseURL: "https://typing-faster.firebaseio.com",
      projectId: "typing-faster",
      storageBucket: "typing-faster.appspot.com",
      messagingSenderId: "196680192033",
      appId: "1:196680192033:web:20392bcefaa4e242f31360",
      measurementId: "G-RP9768H8VM"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    firebase.analytics();
    // Get a reference to the database service
    var database = firebase.database();
    console.log("database: ", database);
  </script>

  <script>
    window.fbAsyncInit = function() {
      FB.init({
        appId      : '188272749119547',
        cookie     : true,
        xfbml      : true,
        version    : '1.0'
      });
        
      FB.AppEvents.logPageView();   
        
    };

    (function(d, s, id){
       var js, fjs = d.getElementsByTagName(s)[0];
       if (d.getElementById(id)) {return;}
       js = d.createElement(s); js.id = id;
       js.src = "https://connect.facebook.net/en_US/sdk.js";
       fjs.parentNode.insertBefore(js, fjs);
     }(document, 'script', 'facebook-jssdk'));
  </script>
  <script src="js/navbar.js"></script>
  <script src="js/result.js"></script>
  <script src="js/ranking.js"></script>
  <script src="js/script.js"></script>
  <script src="js/form.js"></script>
  <script>
    var app = new Vue({
      el: '#app',
      data() {
        return {
          fast_counter: 60,
          slow_counter: 600,
          resultData: {
            wpm: 100,
            accuracy: 22.33,
            wrongWords: 23,
            corectWords: 22
          },
          isShowResult: false
        }
      },
      methods: {
        onFinishTyping(e){
          this.resultData = {
            wpm: e.corectWords,
            accuracy: e.accuracy.toFixed(2),
            wrongWords: e.wrongWords,
            corectWords: e.corectWords
          }
          this.isShowResult = true

        }
      },
      components: {
        'navbar': navbarComponent,
        'typing-panel': typingPanel,
        'result-panel': resultPanel,
        'ranking-panel': rankingPanel
      }
    })
  </script>
  </body>
</html>